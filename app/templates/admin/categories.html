{% extends 'admin/admin_base.html' %}
{% block content %}
<div class="flex justify-between items-center mb-4">
  <h1 class="text-2xl font-bold">Categories</h1>
  <a href="{{ url_for('admin.add_category') }}" class="bg-green-600 text-white px-4 py-2 rounded">Add Category</a>
</div>

<table class="w-full bg-white rounded shadow">
<thead class="bg-gray-50"><tr><th class="p-3">#</th><th class="p-3">Name</th><th class="p-3">Image</th><th class="p-3">Actions</th></tr></thead>
<tbody>
  {% for c in categories %}
  <tr class="border-t">
    <td class="p-3">{{ c.id }}</td>
    <td class="p-3">{{ c.name }}</td>
    <td class="p-3">
      {% if c.image %}
        <img src="/static/{{ c.image }}" class="w-20 h-12 object-cover rounded">
      {% endif %}
    </td>
    <td class="p-3">
      <a href="{{ url_for('admin.edit_category', id=c.id) }}" class="text-blue-600 mr-3">Edit</a>
      <form method="post" action="{{ url_for('admin.delete_category', id=c.id) }}" style="display:inline">
        <button class="text-red-600" onclick="return confirm('Delete category?')">Delete</button>
      </form>
    </td>
  </tr>
  {% else %}
  <tr><td colspan="4" class="p-4 text-gray-500">No categories.</td></tr>
  {% endfor %}
</tbody>
</table>
{% endblock %}
